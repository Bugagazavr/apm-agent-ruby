[[getting-started-rack]]
== Getting started with Rack

Add the gem to your `Gemfile`:

[source,ruby]
----
gem 'elastic-apm'
----

Create a file `config/elastic_apm.yml`:

[source,yaml]
----
server_url: http://localhost:8100
secret_token: ''
----

Include the middleware, start (and stop) Elastic APM when booting your app:

[source,ruby]
----
# Example config.ru

require 'sinatra/base'

class MySinatraApp < Sinatra::Base
  use ElasticAPM::Middleware
  
  # ...
end

# Takes optional ElasticAPM::Config values
ElasticAPM.start(app: MySinatraApp, ...)

run MySinatraApp

at_exit { ElasticAPM.stop }
----

